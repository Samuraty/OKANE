<div class="box-top-board coin-pic">
    <h1> Post Details </h1>
    <div>
        <a [routerLink]="['/ads']">
            <i class="far fa-arrow-alt-circle-left"></i>Back to Board</a>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="ads-container col-12 col-md-6">
            <figure class="card snip1540" *ngIf="ad">
                <div class="card__wrapper">
                    <div class="profile-image">
                        <img [src]="ad.creator.image" alt="profile-sample1" />
                    </div>
                    <div class="but-container">
                        <div class="d-inline-block float-right" *ngIf="canDelete">
                            <button class="create" (click)="deleteAd()"> Delete </button>
                        </div>
                        <div class="d-inline-block float-right" *ngIf="canEdit">
                            <button class="create" [routerLink]="['/ad/edit',ad._id]">Edit Ad</button>
                        </div>
                    </div>
                    <figcaption>
                        <h1 class="title">Message from {{ ad.creator.username }}: </h1>
                        <h2>"Hi! I want to exchange my {{ ad.quantity }} {{ ad.have }} for your {{convertion}} in {{ ad.city
                            }}"
                            <br> </h2>
                        <h3> "{{ad.comment}}"
                            <br>
                            <br>
                        </h3>
                        <p>(converstion rate checked at: </p>
                        <p>{{ today | date:'EEEE, MMMM d, y, HH:mm:ss'}})</p>
                    </figcaption>
                </div>
            </figure>
        </div>

        <div class="chat-ad col-12 col-md-6">
            <div class="chat-with">
                <h3>Contact {{ad.creator.username}}!</h3>
                <h3 class="mail">{{ad.creator.email}}</h3>
                <h3>Chat (work in progress!) </h3>
            </div>

            <ul>
                <li *ngFor="let message of chatService.messages">
                    <b>From {{message.origin}}: </b>
                    <span>{{message.content}}</span>
                </li>
            </ul>

            <input [(ngModel)]="chatBox">
            <button (click)="chatService.sendMessageTo(chatBox, ad.creator._id); chatBox=''">Send</button>
            <!-- <app-chat></app-chat> -->
        </div>
    </div>
</div>